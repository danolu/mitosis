{
  "version": 3,
  "sources": ["../../datatables.net-buttons/js/buttons.print.mjs"],
  "sourcesContent": ["/*!\n * Print button for Buttons and DataTables.\n * Â© SpryMedia Ltd - datatables.net/license\n */\n\nimport jQuery from 'jquery';\nimport DataTable from 'datatables.net';\nimport Buttons from 'datatables.net-buttons';\n\n// Allow reassignment of the $ variable\nlet $ = jQuery;\n\n\nvar _link = document.createElement('a');\n\n/**\n * Clone link and style tags, taking into account the need to change the source\n * path.\n *\n * @param  {node}     el Element to convert\n */\nvar _styleToAbs = function (el) {\n\tvar clone = $(el).clone()[0];\n\n\tif (clone.nodeName.toLowerCase() === 'link') {\n\t\tclone.href = _relToAbs(clone.href);\n\t}\n\n\treturn clone.outerHTML;\n};\n\n/**\n * Convert a URL from a relative to an absolute address so it will work\n * correctly in the popup window which has no base URL.\n *\n * @param  {string} href URL\n */\nvar _relToAbs = function (href) {\n\t// Assign to a link on the original page so the browser will do all the\n\t// hard work of figuring out where the file actually is\n\t_link.href = href;\n\tvar linkHost = _link.host;\n\n\t// IE doesn't have a trailing slash on the host\n\t// Chrome has it on the pathname\n\tif (linkHost.indexOf('/') === -1 && _link.pathname.indexOf('/') !== 0) {\n\t\tlinkHost += '/';\n\t}\n\n\treturn _link.protocol + '//' + linkHost + _link.pathname + _link.search;\n};\n\nDataTable.ext.buttons.print = {\n\tclassName: 'buttons-print',\n\n\ttext: function (dt) {\n\t\treturn dt.i18n('buttons.print', 'Print');\n\t},\n\n\taction: function (e, dt, button, config, cb) {\n\t\tvar data = dt.buttons.exportData(\n\t\t\t$.extend({ decodeEntities: false }, config.exportOptions) // XSS protection\n\t\t);\n\t\tvar exportInfo = dt.buttons.exportInfo(config);\n\n\t\t// Get the classes for the columns from the header cells\n\t\tvar columnClasses = dt\n\t\t\t.columns(config.exportOptions.columns)\n\t\t\t.nodes()\n\t\t\t.map(function (n) {\n\t\t\t\treturn n.className;\n\t\t\t})\n\t\t\t.toArray();\n\n\t\tvar addRow = function (d, tag) {\n\t\t\tvar str = '<tr>';\n\n\t\t\tfor (var i = 0, ien = d.length; i < ien; i++) {\n\t\t\t\t// null and undefined aren't useful in the print output\n\t\t\t\tvar dataOut = d[i] === null || d[i] === undefined ? '' : d[i];\n\t\t\t\tvar classAttr = columnClasses[i]\n\t\t\t\t\t? 'class=\"' + columnClasses[i] + '\"'\n\t\t\t\t\t: '';\n\n\t\t\t\tstr +=\n\t\t\t\t\t'<' +\n\t\t\t\t\ttag +\n\t\t\t\t\t' ' +\n\t\t\t\t\tclassAttr +\n\t\t\t\t\t'>' +\n\t\t\t\t\tdataOut +\n\t\t\t\t\t'</' +\n\t\t\t\t\ttag +\n\t\t\t\t\t'>';\n\t\t\t}\n\n\t\t\treturn str + '</tr>';\n\t\t};\n\n\t\t// Construct a table for printing\n\t\tvar html = '<table class=\"' + dt.table().node().className + '\">';\n\n\t\tif (config.header) {\n\t\t\tvar headerRows = data.headerStructure.map(function (row) {\n\t\t\t\treturn (\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\trow\n\t\t\t\t\t\t.map(function (cell) {\n\t\t\t\t\t\t\treturn cell\n\t\t\t\t\t\t\t\t? '<th colspan=\"' +\n\t\t\t\t\t\t\t\t\t\tcell.colspan +\n\t\t\t\t\t\t\t\t\t\t'\" rowspan=\"' +\n\t\t\t\t\t\t\t\t\t\tcell.rowspan +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\tcell.title +\n\t\t\t\t\t\t\t\t\t\t'</th>'\n\t\t\t\t\t\t\t\t: '';\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.join('') +\n\t\t\t\t\t'</tr>'\n\t\t\t\t);\n\t\t\t});\n\n\t\t\thtml += '<thead>' + headerRows.join('') + '</thead>';\n\t\t}\n\n\t\thtml += '<tbody>';\n\t\tfor (var i = 0, ien = data.body.length; i < ien; i++) {\n\t\t\thtml += addRow(data.body[i], 'td');\n\t\t}\n\t\thtml += '</tbody>';\n\n\t\tif (config.footer && data.footer) {\n\t\t\tvar footerRows = data.footerStructure.map(function (row) {\n\t\t\t\treturn (\n\t\t\t\t\t'<tr>' +\n\t\t\t\t\trow\n\t\t\t\t\t\t.map(function (cell) {\n\t\t\t\t\t\t\treturn cell\n\t\t\t\t\t\t\t\t? '<th colspan=\"' +\n\t\t\t\t\t\t\t\t\t\tcell.colspan +\n\t\t\t\t\t\t\t\t\t\t'\" rowspan=\"' +\n\t\t\t\t\t\t\t\t\t\tcell.rowspan +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\tcell.title +\n\t\t\t\t\t\t\t\t\t\t'</th>'\n\t\t\t\t\t\t\t\t: '';\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.join('') +\n\t\t\t\t\t'</tr>'\n\t\t\t\t);\n\t\t\t});\n\n\t\t\thtml += '<tfoot>' + footerRows.join('') + '</tfoot>';\n\t\t}\n\t\thtml += '</table>';\n\n\t\t// Open a new window for the printable table\n\t\tvar win = window.open('', '');\n\n\t\tif (!win) {\n\t\t\tdt.buttons.info(\n\t\t\t\tdt.i18n('buttons.printErrorTitle', 'Unable to open print view'),\n\t\t\t\tdt.i18n(\n\t\t\t\t\t'buttons.printErrorMsg',\n\t\t\t\t\t'Please allow popups in your browser for this site to be able to view the print view.'\n\t\t\t\t),\n\t\t\t\t5000\n\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\twin.document.close();\n\n\t\t// Inject the title and also a copy of the style and link tags from this\n\t\t// document so the table can retain its base styling. Note that we have\n\t\t// to use string manipulation as IE won't allow elements to be created\n\t\t// in the host document and then appended to the new window.\n\t\tvar head = '<title>' + exportInfo.title + '</title>';\n\t\t$('style, link').each(function () {\n\t\t\thead += _styleToAbs(this);\n\t\t});\n\n\t\ttry {\n\t\t\twin.document.head.innerHTML = head; // Work around for Edge\n\t\t} catch (e) {\n\t\t\t$(win.document.head).html(head); // Old IE\n\t\t}\n\n\t\t// Add any custom scripts (for example for paged.js)\n\t\tif (config.customScripts) {\n\t\t\tconfig.customScripts.forEach(function (script) {\n\t\t\t\tvar tag = win.document.createElement(\"script\");\n\t\t\t\ttag.src = script;\n\t\t\t\twin.document.getElementsByTagName(\"head\")[0].appendChild(tag);\n\t\t\t});\n\t\t}\n\n\t\t// Inject the table and other surrounding information\n\t\twin.document.body.innerHTML =\n\t\t\t'<h1>' +\n\t\t\texportInfo.title +\n\t\t\t'</h1>' +\n\t\t\t'<div>' +\n\t\t\t(exportInfo.messageTop || '') +\n\t\t\t'</div>' +\n\t\t\thtml +\n\t\t\t'<div>' +\n\t\t\t(exportInfo.messageBottom || '') +\n\t\t\t'</div>';\n\n\t\t$(win.document.body).addClass('dt-print-view');\n\n\t\t$('img', win.document.body).each(function (i, img) {\n\t\t\timg.setAttribute('src', _relToAbs(img.getAttribute('src')));\n\t\t});\n\n\t\tif (config.customize) {\n\t\t\tconfig.customize(win, config, dt);\n\t\t}\n\n\t\t// Allow stylesheets time to load\n\t\tvar autoPrint = function () {\n\t\t\tif (config.autoPrint) {\n\t\t\t\twin.print(); // blocking - so close will not\n\t\t\t\twin.close(); // execute until this is done\n\t\t\t}\n\t\t};\n\n\t\twin.setTimeout(autoPrint, 1000);\n\n\t\tcb();\n\t},\n\n\tasync: 100,\n\n\ttitle: '*',\n\n\tmessageTop: '*',\n\n\tmessageBottom: '*',\n\n\texportOptions: {},\n\n\theader: true,\n\n\tfooter: true,\n\n\tautoPrint: true,\n\n\tcustomize: null\n};\n\n\nexport default DataTable;\n"],
  "mappings": "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",
  "names": ["jQuery", "i", "ien", "e"]
}
